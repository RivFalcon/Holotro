[manifest]
version = "1.0.0"
dump_lua = true
priority = 0

[[patches]]
[patches.pattern]
target = "card.lua"
pattern = "if G.GAME.used_vouchers.v_omen_globe and pseudorandom('omen_globe') > 0.8 then"
position = "at"
match_indent = true
payload = '''
if G.GAME.used_vouchers.v_hololive_suit_flower and (i == 1) then
    local _tarot = Holo.roll_for_suit_tarot()
    card = create_card("Tarot", G.pack_cards, nil, nil, true, true, _tarot, 'v_hololive_suit_flower')
elseif G.GAME.used_vouchers.v_hololive_mod_book and (i == 1) then
    local _tarot = Holo.roll_for_enhance_tarot()
    card = create_card("Tarot", G.pack_cards, nil, nil, true, true, _tarot, 'v_hololive_mod_book')
elseif G.GAME.used_vouchers.v_hololive_suit_flower and G.GAME.used_vouchers.v_hololive_mod_book and (i == 2) then
    local _tarot = Holo.roll_for_enhance_tarot()
    card = create_card("Tarot", G.pack_cards, nil, nil, true, true, _tarot, 'v_hololive_mod_book')
elseif G.GAME.used_vouchers.v_omen_globe and pseudorandom('omen_globe') > 0.8 then
'''